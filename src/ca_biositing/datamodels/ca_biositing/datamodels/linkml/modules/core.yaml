id: https://w3id.org/ca_biositing/core
name: core
title: Core Definitions
description: Base classes, lineage, and data source definitions.
license: https://creativecommons.org/publicdomain/zero/1.0/

prefixes:
  linkml: https://w3id.org/linkml/
  ca_biositing: https://w3id.org/ca_biositing/

default_prefix: ca_biositing
default_range: string

imports:
  - linkml:types

classes:
  BaseEntity:
    mixin: true
    description: Base entity included in all main entity tables.
    slots:
      - id
      - created_at
      - updated_at
      - etl_run_id
      - lineage_group_id

  LookupBase:
    mixin: true
    description: Base class for enum/ontology-like tables.
    slots:
      - id
      - name
      - description
      - uri

  LineageGroup:
    is_a: BaseEntity
    description: Grouping for lineage information.
    slots:
      - note

  EntityLineage:
    description: Lineage information for a specific entity.
    slots:
      - id
      - lineage_group_id
      - source_table
      - source_row_id
      - note

  EtlRun:
    description: Information about an ETL run.
    slots:
      - id
      - started_at
      - completed_at
      - pipeline_name
      - status
      - records_ingested
      - note
    slot_usage:
      id:
        identifier: true
        range: string

  DataSource:
    is_a: BaseEntity
    description: Information about a data source.
    slots:
      - name
      - description
      - data_source_type_id
      - full_title
      - creator
      - subject
      - publisher
      - contributor
      - date
      - type
      - biocirv
      - format
      - language
      - relation
      - temporal_coverage
      - location_coverage_id
      - rights
      - uri

  DataSourceType:
    is_a: BaseEntity
    description: Type of data source.
    slots:
      - source_type_id

  SourceType:
    is_a: LookupBase
    description: Lookup for source types (database, literature, etc.).

  LocationResolution:
    is_a: LookupBase
    description: Resolution of location coverage (nation, state, county, etc.).

  FileObjectMetadata:
    is_a: BaseEntity
    description: Metadata for file objects.
    slots:
      - data_source_id
      - bucket_path
      - file_format
      - file_size
      - checksum_md5
      - checksum_sha256

slots:
  id:
    identifier: true
    range: integer
    description: Unique identifier.

  created_at:
    range: datetime
    description: Timestamp when the record was created.

  updated_at:
    range: datetime
    description: Timestamp when the record was last updated.

  etl_run_id:
    range: string
    description: Identifier of the ETL run.

  lineage_group_id:
    range: integer
    description: Reference to the lineage group.

  name:
    range: string
    description: Name of the entity.

  description:
    range: string
    description: Description of the entity.

  uri:
    range: uri
    description: URI for the entity.

  note:
    range: string
    description: Additional notes.

  source_table:
    range: string
    description: Source table name.

  source_row_id:
    range: string
    description: Source row identifier.

  started_at:
    range: datetime
    description: Start time of the ETL run.

  completed_at:
    range: datetime
    description: Completion time of the ETL run.

  pipeline_name:
    range: string
    description: Name of the pipeline.

  status:
    range: string
    description: Status of the ETL run.

  records_ingested:
    range: integer
    description: Number of records ingested.

  data_source_type_id:
    range: integer
    description: Reference to data source type.

  full_title:
    range: string
    description: Full title of the data source.

  creator:
    range: string
    description: Creator of the data source.

  subject:
    range: string
    description: Subject of the data source.

  publisher:
    range: string
    description: Publisher of the data source.

  contributor:
    range: string
    description: Contributor to the data source.

  date:
    range: datetime
    description: Date associated with the data source.

  type:
    range: string
    description: Type of the data source.

  biocirv:
    range: boolean
    description: Whether the data source is internal to BioCirV.

  format:
    range: string
    description: Format of the data source.

  language:
    range: string
    description: Language of the data source.

  relation:
    range: string
    description: Relation of the data source.

  temporal_coverage:
    range: string
    description: Temporal coverage of the data source.

  location_coverage_id:
    range: integer
    description: Reference to location resolution.

  rights:
    range: string
    description: Rights associated with the data source.

  source_type_id:
    range: integer
    description: Reference to source type.

  data_source_id:
    range: integer
    description: Reference to data source.

  bucket_path:
    range: string
    description: Path to the file in the bucket.

  file_format:
    range: string
    description: Format of the file.

  file_size:
    range: integer
    description: Size of the file.

  checksum_md5:
    range: string
    description: MD5 checksum of the file.

  checksum_sha256:
    range: string
    description: SHA256 checksum of the file.
