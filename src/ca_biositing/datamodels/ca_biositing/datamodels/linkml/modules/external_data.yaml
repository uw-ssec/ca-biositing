id: https://w3id.org/ca_biositing/external_data
name: external_data
title: External Data
description: External datasets (USDA, LandIQ, etc.).
license: https://creativecommons.org/publicdomain/zero/1.0/

prefixes:
  linkml: https://w3id.org/linkml/
  ca_biositing: https://w3id.org/ca_biositing/

default_prefix: ca_biositing
default_range: string

imports:
  - linkml:types
  - core
  - general_analysis
  - places
  - resource_information
  - methods_parameters_units
  - data_sources_metadata

classes:
  UsdaDomain:
    is_a: LookupBase
    description: USDA domain.

  UsdaStatisticCategory:
    is_a: LookupBase
    description: USDA statistic category.

  UsdaSurveyProgram:
    is_a: LookupBase
    description: USDA survey program.

  UsdaCommodity:
    is_a: LookupBase
    description: USDA commodity.
    slots:
      - usda_source
      - usda_code
      - parent_commodity_id

  UsdaTermMap:
    is_a: BaseEntity
    description: Mapping of raw terms to USDA commodities.
    slots:
      - source_system
      - source_context
      - raw_term
      - usda_commodity_id
      - is_verified
      - note

  ResourceUsdaCommodityMap:
    is_a: BaseEntity
    description: Mapping between resources/crops and USDA commodities.
    slots:
      - resource_id
      - primary_crop_id
      - usda_commodity_id
      - match_tier
      - note

  UsdaCensusRecord:
    is_a: BaseEntity
    description: USDA census record.
    slots:
      - dataset_id
      - geoid
      - commodity_code
      - year
      - source_reference
      - note

  UsdaSurveyRecord:
    is_a: BaseEntity
    description: USDA survey record.
    slots:
      - dataset_id
      - geoid
      - commodity_code
      - year
      - survey_program_id
      - survey_period
      - reference_month
      - seasonal_flag
      - note

  UsdaMarketReport:
    is_a: BaseEntity
    description: USDA market report.
    slots:
      - slug_id
      - slug_name
      - report_series_title
      - frequency
      - office_name
      - office_city_id
      - office_state_fips
      - source_id

  UsdaMarketRecord:
    is_a: BaseEntity
    description: USDA market record.
    slots:
      - report_id
      - dataset_id
      - report_begin_date
      - report_end_date
      - report_date
      - commodity_id
      - market_type_id
      - market_type_catagory
      - grp
      - market_catagory_id
      - class_
      - grade
      - variety
      - protein_pct
      - application
      - pkg
      - sale_type
      - price_unit_id
      - freight
      - trans_mode

  LandiqRecord:
    is_a: BaseEntity
    description: LandIQ record.
    slots:
      - dataset_id
      - polygon_id
      - main_crop
      - secondary_crop
      - tertiary_crop
      - quaternary_crop
      - confidence
      - irrigated
      - acres
      - version
      - note
      - test

  BillionTon2023Record:
    is_a: BaseEntity
    description: Billion Ton 2023 record.
    slots:
      - subclass_id
      - resource_id
      - geoid
      - county_square_miles
      - model_name
      - scenario_name
      - price_offered_usd
      - production
      - production_unit_id
      - btu_ton
      - production_energy_content
      - energy_content_unit_id
      - product_density_dtpersqmi
      - land_source

  Polygon:
    description: Geospatial polygon.
    slots:
      - id
      - geoid
      - geom
    slot_usage:
      id:
        identifier: true
        range: integer

slots:
  usda_source:
    range: string
    description: Source of the USDA definition (NASS, AMS).

  usda_code:
    range: string
    description: Official USDA code.

  parent_commodity_id:
    range: integer
    description: Reference to parent UsdaCommodity.

  source_system:
    range: string
    description: Source system (NASS, AMS).

  source_context:
    range: string
    description: Context of the source (Group, Slug ID).

  raw_term:
    range: string
    description: Raw term from the source.

  usda_commodity_id:
    range: integer
    description: Reference to UsdaCommodity.

  is_verified:
    range: boolean
    description: Whether the mapping is verified.

  match_tier:
    range: string
    description: Tier of the match.

  commodity_code:
    range: integer
    description: Reference to UsdaCommodity.

  year:
    range: integer
    description: Year of the record.

  source_reference:
    range: string
    description: Reference to the source.

  survey_program_id:
    range: integer
    description: Reference to UsdaSurveyProgram.

  survey_period:
    range: string
    description: Period of the survey.

  reference_month:
    range: string
    description: Reference month.

  seasonal_flag:
    range: boolean
    description: Whether the record is seasonal.

  slug_id:
    range: integer
    description: Slug ID.

  slug_name:
    range: string
    description: Slug name.

  report_series_title:
    range: string
    description: Title of the report series.

  frequency:
    range: string
    description: Frequency of the report.

  office_name:
    range: string
    description: Name of the office.

  office_city_id:
    range: integer
    description: Reference to LocationAddress.

  office_state_fips:
    range: string
    description: FIPS code of the office state.

  report_id:
    range: integer
    description: Reference to UsdaMarketReport.

  report_begin_date:
    range: datetime
    description: Begin date of the report.

  report_end_date:
    range: datetime
    description: End date of the report.

  report_date:
    range: datetime
    description: Date of the report.

  commodity_id:
    range: integer
    description: Reference to UsdaCommodity.

  market_type_id:
    range: integer
    description: ID of the market type.

  market_type_catagory:
    range: string
    description: Category of the market type.

  grp:
    range: string
    description: Group.

  market_catagory_id:
    range: integer
    description: ID of the market category.

  class_:
    range: string
    description: Class.

  grade:
    range: string
    description: Grade.

  variety:
    range: string
    description: Variety.

  protein_pct:
    range: decimal
    description: Protein percentage.

  application:
    range: string
    description: Application.

  pkg:
    range: string
    description: Package.

  sale_type:
    range: string
    description: Sale type.

  price_unit_id:
    range: integer
    description: Reference to Unit.

  freight:
    range: string
    description: Freight.

  trans_mode:
    range: string
    description: Transportation mode.

  polygon_id:
    range: integer
    description: Reference to Polygon.

  main_crop:
    range: integer
    description: Reference to PrimaryCrop.

  secondary_crop:
    range: integer
    description: Reference to PrimaryCrop.

  tertiary_crop:
    range: integer
    description: Reference to PrimaryCrop.

  quaternary_crop:
    range: integer
    description: Reference to PrimaryCrop.

  confidence:
    range: integer
    description: Confidence level.

  irrigated:
    range: boolean
    description: Whether the land is irrigated.

  acres:
    range: float
    description: Number of acres.

  subclass_id:
    range: integer
    description: Reference to ResourceSubclass.

  county_square_miles:
    range: float
    description: Square miles of the county.

  model_name:
    range: string
    description: Name of the model.

  scenario_name:
    range: string
    description: Name of the scenario.

  price_offered_usd:
    range: decimal
    description: Price offered in USD.

  production:
    range: integer
    description: Production amount.

  production_unit_id:
    range: integer
    description: Reference to Unit.

  btu_ton:
    range: integer
    description: BTU per ton.

  production_energy_content:
    range: integer
    description: Energy content of production.

  energy_content_unit_id:
    range: integer
    description: Reference to Unit.

  product_density_dtpersqmi:
    range: decimal
    description: Product density in dry tons per square mile.

  land_source:
    range: string
    description: Source of land data.

  geom:
    range: string
    description: Geometry (WKT or similar).

  test:
    range: string
    description: A test slot.
