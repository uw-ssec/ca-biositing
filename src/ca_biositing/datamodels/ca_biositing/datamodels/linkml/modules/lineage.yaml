id: https://w3id.org/ca_biositing/lineage
name: lineage
title: Lineage Definitions
description: Data lineage and ETL tracking.
license: https://creativecommons.org/publicdomain/zero/1.0/

prefixes:
  linkml: https://w3id.org/linkml/
  ca_biositing: https://w3id.org/ca_biositing/

default_prefix: ca_biositing
default_range: string

imports:
  - linkml:types
  - core

classes:
  LineageGroup:
    description: Grouping for lineage information.
    slots:
      - id
      - etl_run_id
      - note
    slot_usage:
      id:
        identifier: true
        range: integer

  EntityLineage:
    description: Lineage information for a specific entity.
    slots:
      - id
      - lineage_group_id
      - source_table
      - source_row_id
      - note
    slot_usage:
      id:
        identifier: true
        range: integer

  EtlRun:
    description: Information about an ETL run.
    slots:
      - id
      - started_at
      - completed_at
      - pipeline_name
      - status
      - records_ingested
      - note
    slot_usage:
      id:
        identifier: true

slots:
  #Slots for EntityLineage class

  source_table:
    range: string
    description: Source table name.

  source_row_id:
    range: string
    description: Source row identifier.

  #Slots for EtlRun class

  started_at:
    range: datetime
    description: Start time of the ETL run.

  completed_at:
    range: datetime
    description: Completion time of the ETL run.

  pipeline_name:
    range: string
    description: Name of the pipeline.

  status:
    range: string
    description: Status of the ETL run.

  records_ingested:
    range: integer
    description: Number of records ingested.
