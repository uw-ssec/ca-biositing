"""Initial migration (SQLModel)

Revision ID: f5c8c031aef9
Revises: 0001_create_extensions
Create Date: 2026-02-11 20:56:17.585013

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa
import sqlmodel
import geoalchemy2

# revision identifiers, used by Alembic.
revision: str = 'f5c8c031aef9'
down_revision: Union[str, Sequence[str], None] = '0001_create_extensions'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Upgrade schema."""
    # Create ca_biositing schema for materialized views (Phase 4)
    op.execute("CREATE SCHEMA IF NOT EXISTS ca_biositing")

    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('ag_treatment',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('analysis_type',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('collection_method',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('dimension_type',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('entity_lineage',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('source_table', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_row_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('etl_run',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('run_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('started_at', sa.DateTime(), nullable=True),
    sa.Column('completed_at', sa.DateTime(), nullable=True),
    sa.Column('pipeline_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('records_ingested', sa.Integer(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('field_storage_method',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('harvest_method',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('infrastructure_biodiesel_plants',
    sa.Column('biodiesel_plant_id', sa.Integer(), nullable=False),
    sa.Column('company', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('bbi_index', sa.Integer(), nullable=True),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('state', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('capacity_mmg_per_y', sa.Integer(), nullable=True),
    sa.Column('feedstock', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('coordinates', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('latitude', sa.Numeric(), nullable=True),
    sa.Column('longitude', sa.Numeric(), nullable=True),
    sa.Column('source', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('biodiesel_plant_id')
    )
    op.create_table('infrastructure_biosolids_facilities',
    sa.Column('biosolid_facility_id', sa.Integer(), nullable=False),
    sa.Column('report_submitted_date', sa.Date(), nullable=True),
    sa.Column('latitude', sa.Numeric(), nullable=True),
    sa.Column('longitude', sa.Numeric(), nullable=True),
    sa.Column('facility', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('authority', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('plant_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('aqmd', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('facility_address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('facility_city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('state', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('facility_zip', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('facility_county', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('mailing_street_1', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('mailing_city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('mailing_state', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('mailing_zip', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('biosolids_number', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('biosolids_contact', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('biosolids_contact_phone', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('biosolids_contact_email', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('adwf', sa.Numeric(), nullable=True),
    sa.Column('potw_biosolids_generated', sa.Integer(), nullable=True),
    sa.Column('twtds_biosolids_treated', sa.Integer(), nullable=True),
    sa.Column('class_b_land_app', sa.Integer(), nullable=True),
    sa.Column('class_b_applier', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('class_a_compost', sa.Integer(), nullable=True),
    sa.Column('class_a_heat_dried', sa.Integer(), nullable=True),
    sa.Column('class_a_other', sa.Integer(), nullable=True),
    sa.Column('class_a_other_applier', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('twtds_transfer_to_second_preparer', sa.Integer(), nullable=True),
    sa.Column('twtds_second_preparer_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('adc_or_final_c', sa.Integer(), nullable=True),
    sa.Column('landfill', sa.Integer(), nullable=True),
    sa.Column('landfill_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('surface_disposal', sa.Integer(), nullable=True),
    sa.Column('deepwell_injection', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('stored', sa.Integer(), nullable=True),
    sa.Column('longterm_treatment', sa.Integer(), nullable=True),
    sa.Column('other', sa.Integer(), nullable=True),
    sa.Column('name_of_other', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('incineration', sa.Integer(), nullable=True),
    sa.PrimaryKeyConstraint('biosolid_facility_id')
    )
    op.create_table('infrastructure_cafo_manure_locations',
    sa.Column('cafo_manure_id', sa.Integer(), nullable=False),
    sa.Column('latitude', sa.Numeric(), nullable=True),
    sa.Column('longitude', sa.Numeric(), nullable=True),
    sa.Column('owner_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('facility_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('town', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('state', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('zip', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('animal', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('animal_feed_operation_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('animal_units', sa.Integer(), nullable=True),
    sa.Column('animal_count', sa.Integer(), nullable=True),
    sa.Column('manure_total_solids', sa.Numeric(), nullable=True),
    sa.Column('source', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('date_accessed', sa.Date(), nullable=True),
    sa.PrimaryKeyConstraint('cafo_manure_id')
    )
    op.create_table('infrastructure_combustion_plants',
    sa.Column('combustion_fid', sa.Integer(), nullable=False),
    sa.Column('objectid', sa.Integer(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('county', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('equivalent_generation', sa.Numeric(), nullable=True),
    sa.Column('np_mw', sa.Numeric(), nullable=True),
    sa.Column('cf', sa.Numeric(), nullable=True),
    sa.Column('yearload', sa.Integer(), nullable=True),
    sa.Column('fuel', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('wkt_geom', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('geom', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('latitude', sa.Numeric(), nullable=True),
    sa.Column('longitude', sa.Numeric(), nullable=True),
    sa.PrimaryKeyConstraint('combustion_fid')
    )
    op.create_table('infrastructure_district_energy_systems',
    sa.Column('des_fid', sa.Integer(), nullable=False),
    sa.Column('cbg_id', sa.Integer(), nullable=True),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('system', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('object_id', sa.Integer(), nullable=True),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('state', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('primary_fuel', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('secondary_fuel', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('usetype', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('cap_st', sa.Numeric(), nullable=True),
    sa.Column('cap_hw', sa.Numeric(), nullable=True),
    sa.Column('cap_cw', sa.Numeric(), nullable=True),
    sa.Column('chpcg_cap', sa.Numeric(), nullable=True),
    sa.Column('excess_c', sa.Numeric(), nullable=True),
    sa.Column('excess_h', sa.Numeric(), nullable=True),
    sa.Column('type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('wkt_geom', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('geom', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('latitude', sa.Numeric(), nullable=True),
    sa.Column('longitude', sa.Numeric(), nullable=True),
    sa.PrimaryKeyConstraint('des_fid')
    )
    op.create_table('infrastructure_ethanol_biorefineries',
    sa.Column('ethanol_biorefinery_id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('state', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('capacity_mgy', sa.Integer(), nullable=True),
    sa.Column('production_mgy', sa.Integer(), nullable=True),
    sa.Column('constr_exp', sa.Integer(), nullable=True),
    sa.PrimaryKeyConstraint('ethanol_biorefinery_id')
    )
    op.create_table('infrastructure_food_processing_facilities',
    sa.Column('processing_facility_id', sa.Integer(), nullable=False),
    sa.Column('address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('county', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('company', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('join_count', sa.Integer(), nullable=True),
    sa.Column('master_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('state', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('subtype', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('target_fid', sa.Integer(), nullable=True),
    sa.Column('processing_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('zip', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('wkt_geom', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('geom', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('latitude', sa.Numeric(), nullable=True),
    sa.Column('longitude', sa.Numeric(), nullable=True),
    sa.PrimaryKeyConstraint('processing_facility_id')
    )
    op.create_table('infrastructure_landfills',
    sa.Column('project_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('project_int_id', sa.Integer(), nullable=True),
    sa.Column('ghgrp_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('landfill_id', sa.Integer(), nullable=True),
    sa.Column('landfill_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('state', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('physical_address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('county', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('zip_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('latitude', sa.Numeric(), nullable=True),
    sa.Column('longitude', sa.Numeric(), nullable=True),
    sa.Column('ownership_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('landfill_owner_orgs', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('landfill_opened_year', sa.Date(), nullable=True),
    sa.Column('landfill_closure_year', sa.Date(), nullable=True),
    sa.Column('landfill_status', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('waste_in_place', sa.Integer(), nullable=True),
    sa.Column('waste_in_place_year', sa.Date(), nullable=True),
    sa.Column('lfg_system_in_place', sa.Boolean(), nullable=True),
    sa.Column('lfg_collected', sa.Numeric(), nullable=True),
    sa.Column('lfg_flared', sa.Numeric(), nullable=True),
    sa.Column('project_status', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('project_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('project_start_date', sa.Date(), nullable=True),
    sa.Column('project_shutdown_date', sa.Date(), nullable=True),
    sa.Column('project_type_category', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('lfg_energy_project_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('rng_delivery_method', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('actual_mw_generation', sa.Numeric(), nullable=True),
    sa.Column('rated_mw_capacity', sa.Numeric(), nullable=True),
    sa.Column('lfg_flow_to_project', sa.Numeric(), nullable=True),
    sa.Column('direct_emission_reductions', sa.Numeric(), nullable=True),
    sa.Column('avoided_emission_reductions', sa.Numeric(), nullable=True),
    sa.PrimaryKeyConstraint('project_id')
    )
    op.create_table('infrastructure_livestock_anaerobic_digesters',
    sa.Column('digester_id', sa.Integer(), nullable=False),
    sa.Column('project_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('project_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('state', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('digester_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('profile', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('year_operational', sa.Date(), nullable=True),
    sa.Column('animal_type_class', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('animal_types', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('pop_feeding_digester', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('total_pop_feeding_digester', sa.Integer(), nullable=True),
    sa.Column('cattle', sa.Integer(), nullable=True),
    sa.Column('dairy', sa.Integer(), nullable=True),
    sa.Column('poultry', sa.Integer(), nullable=True),
    sa.Column('swine', sa.Integer(), nullable=True),
    sa.Column('codigestion', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('biogas_generation_estimate', sa.Integer(), nullable=True),
    sa.Column('electricity_generated', sa.Integer(), nullable=True),
    sa.Column('biogas_end_uses', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('methane_emission_reductions', sa.Integer(), nullable=True),
    sa.Column('latitude', sa.Numeric(), nullable=True),
    sa.Column('longitude', sa.Numeric(), nullable=True),
    sa.PrimaryKeyConstraint('digester_id')
    )
    op.create_table('infrastructure_msw_to_energy_anaerobic_digesters',
    sa.Column('wte_id', sa.Integer(), nullable=False),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('county', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('equivalent_generation', sa.Numeric(), nullable=True),
    sa.Column('feedstock', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('dayload', sa.Numeric(), nullable=True),
    sa.Column('dayload_bdt', sa.Numeric(), nullable=True),
    sa.Column('facility_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('notes', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('wkt_geom', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('geom', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('latitude', sa.Numeric(), nullable=True),
    sa.Column('longitude', sa.Numeric(), nullable=True),
    sa.PrimaryKeyConstraint('wte_id')
    )
    op.create_table('infrastructure_saf_and_renewable_diesel_plants',
    sa.Column('ibcc_index', sa.Integer(), nullable=False),
    sa.Column('company', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('state', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('country', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('capacity', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('feedstock', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('products', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('status', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('address', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('coordinates', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('latitude', sa.Numeric(), nullable=True),
    sa.Column('longitude', sa.Numeric(), nullable=True),
    sa.PrimaryKeyConstraint('ibcc_index')
    )
    op.create_table('infrastructure_wastewater_treatment_plants',
    sa.Column('plant_id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('state', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('codigestion', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('flow_design_adjusted', sa.Numeric(), nullable=True),
    sa.Column('flow_average', sa.Numeric(), nullable=True),
    sa.Column('biosolids', sa.Numeric(), nullable=True),
    sa.Column('excess_flow', sa.Numeric(), nullable=True),
    sa.Column('biogas_utilized', sa.Boolean(), nullable=True),
    sa.Column('flaring', sa.Boolean(), nullable=True),
    sa.Column('excess_mass_loading_rate', sa.Numeric(), nullable=True),
    sa.Column('excess_mass_loading_rate_wet', sa.Numeric(), nullable=True),
    sa.Column('methane_production', sa.Numeric(), nullable=True),
    sa.Column('energy_content', sa.Numeric(), nullable=True),
    sa.Column('electric_kw', sa.Numeric(), nullable=True),
    sa.Column('thermal_mmbtu_d', sa.Numeric(), nullable=True),
    sa.Column('electric_kwh', sa.Numeric(), nullable=True),
    sa.Column('thermal_annual_mmbtu_y', sa.Numeric(), nullable=True),
    sa.Column('anaerobic_digestion_facility', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('county', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('dayload_bdt', sa.Numeric(), nullable=True),
    sa.Column('dayload', sa.Numeric(), nullable=True),
    sa.Column('equivalent_generation', sa.Numeric(), nullable=True),
    sa.Column('facility_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('feedstock', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('latitude', sa.Numeric(), nullable=True),
    sa.Column('longitude', sa.Numeric(), nullable=True),
    sa.Column('zipcode', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('plant_id')
    )
    op.create_table('location_resolution',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('method_abbrev',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('method_category',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('method_standard',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('parameter_category',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('place',
    sa.Column('geoid', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('state_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('state_fips', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('county_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('county_fips', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('region_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('agg_level_desc', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('geoid')
    )
    op.create_table('preparation_method_abbreviation',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('primary_ag_product',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('processing_method',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('resource_class',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('resource_subclass',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('soil_type',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('source_type',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('strain',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('parent_strain_id', sa.Integer(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('unit',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('usda_commodity',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('usda_source', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('usda_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('parent_commodity_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['parent_commodity_id'], ['usda_commodity.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('usda_domain',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('usda_statistic_category',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('usda_survey_program',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('contact',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('first_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('last_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('email', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('affiliation', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('data_source_type',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('source_type_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['source_type_id'], ['source_type.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('lineage_group',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('location_address',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('geography_id', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('address_line1', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('address_line2', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('city', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('zip', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('lat', sa.Float(), nullable=True),
    sa.Column('lon', sa.Float(), nullable=True),
    sa.Column('is_anonymous', sa.Boolean(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['geography_id'], ['place.geoid'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('parameter',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('standard_unit_id', sa.Integer(), nullable=True),
    sa.Column('calculated', sa.Boolean(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['standard_unit_id'], ['unit.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('preparation_method',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('prep_method_abbrev_id', sa.Integer(), nullable=True),
    sa.Column('prep_temp_c', sa.Numeric(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('drying_step', sa.Boolean(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['prep_method_abbrev_id'], ['preparation_method_abbreviation.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('provider',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('codename', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('resource',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('primary_ag_product_id', sa.Integer(), nullable=True),
    sa.Column('resource_class_id', sa.Integer(), nullable=True),
    sa.Column('resource_subclass_id', sa.Integer(), nullable=True),
    sa.Column('resource_code', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['primary_ag_product_id'], ['primary_ag_product.id'], ),
    sa.ForeignKeyConstraint(['resource_class_id'], ['resource_class.id'], ),
    sa.ForeignKeyConstraint(['resource_subclass_id'], ['resource_subclass.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('usda_term_map',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('source_system', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_context', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('raw_term', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('usda_commodity_id', sa.Integer(), nullable=True),
    sa.Column('is_verified', sa.Boolean(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['usda_commodity_id'], ['usda_commodity.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('billion_ton2023_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('subclass_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('geoid', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('county_square_miles', sa.Float(), nullable=True),
    sa.Column('model_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('scenario_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('price_offered_usd', sa.Numeric(), nullable=True),
    sa.Column('production', sa.Integer(), nullable=True),
    sa.Column('production_unit_id', sa.Integer(), nullable=True),
    sa.Column('btu_ton', sa.Integer(), nullable=True),
    sa.Column('production_energy_content', sa.Integer(), nullable=True),
    sa.Column('energy_content_unit_id', sa.Integer(), nullable=True),
    sa.Column('product_density_dtpersqmi', sa.Numeric(), nullable=True),
    sa.Column('land_source', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['energy_content_unit_id'], ['unit.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['geoid'], ['place.geoid'], ),
    sa.ForeignKeyConstraint(['production_unit_id'], ['unit.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.ForeignKeyConstraint(['subclass_id'], ['resource_subclass.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('data_source',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('data_source_type_id', sa.Integer(), nullable=True),
    sa.Column('full_title', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('creator', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('subject', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('publisher', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('contributor', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('date', sa.DateTime(), nullable=True),
    sa.Column('type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('biocirv', sa.Boolean(), nullable=True),
    sa.Column('format', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('language', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('relation', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('temporal_coverage', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('location_coverage_id', sa.Integer(), nullable=True),
    sa.Column('rights', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('license', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['data_source_type_id'], ['data_source_type.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['location_coverage_id'], ['location_resolution.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('equipment',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('equipment_location_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['equipment_location_id'], ['location_address.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('experiment',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('analyst_id', sa.Integer(), nullable=True),
    sa.Column('exper_start_date', sa.Date(), nullable=True),
    sa.Column('exper_duration', sa.Numeric(), nullable=True),
    sa.Column('exper_duration_unit_id', sa.Integer(), nullable=True),
    sa.Column('exper_location_id', sa.Integer(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['analyst_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['exper_duration_unit_id'], ['unit.id'], ),
    sa.ForeignKeyConstraint(['exper_location_id'], ['location_address.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('field_sample',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('provider_id', sa.Integer(), nullable=True),
    sa.Column('collector_id', sa.Integer(), nullable=True),
    sa.Column('sample_collection_source', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('amount_collected', sa.Numeric(), nullable=True),
    sa.Column('amount_collected_unit_id', sa.Integer(), nullable=True),
    sa.Column('sampling_location_id', sa.Integer(), nullable=True),
    sa.Column('field_storage_method_id', sa.Integer(), nullable=True),
    sa.Column('field_storage_duration_value', sa.Numeric(), nullable=True),
    sa.Column('field_storage_duration_unit_id', sa.Integer(), nullable=True),
    sa.Column('field_storage_location_id', sa.Integer(), nullable=True),
    sa.Column('collection_timestamp', sa.DateTime(), nullable=True),
    sa.Column('collection_method_id', sa.Integer(), nullable=True),
    sa.Column('harvest_method_id', sa.Integer(), nullable=True),
    sa.Column('harvest_date', sa.Date(), nullable=True),
    sa.Column('field_sample_storage_location_id', sa.Integer(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['amount_collected_unit_id'], ['unit.id'], ),
    sa.ForeignKeyConstraint(['collection_method_id'], ['collection_method.id'], ),
    sa.ForeignKeyConstraint(['collector_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['field_sample_storage_location_id'], ['location_address.id'], ),
    sa.ForeignKeyConstraint(['field_storage_duration_unit_id'], ['unit.id'], ),
    sa.ForeignKeyConstraint(['field_storage_location_id'], ['location_address.id'], ),
    sa.ForeignKeyConstraint(['field_storage_method_id'], ['field_storage_method.id'], ),
    sa.ForeignKeyConstraint(['harvest_method_id'], ['harvest_method.id'], ),
    sa.ForeignKeyConstraint(['provider_id'], ['provider.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.ForeignKeyConstraint(['sampling_location_id'], ['location_address.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('landiq_resource_mapping',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('landiq_crop_name', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['landiq_crop_name'], ['primary_ag_product.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('location_soil_type',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('location_id', sa.Integer(), nullable=True),
    sa.Column('soil_type_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['location_id'], ['location_address.id'], ),
    sa.ForeignKeyConstraint(['soil_type_id'], ['soil_type.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('parameter_category_parameter',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('parameter_id', sa.Integer(), nullable=True),
    sa.Column('parameter_category_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['parameter_category_id'], ['parameter_category.id'], ),
    sa.ForeignKeyConstraint(['parameter_id'], ['parameter.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('parameter_unit',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('parameter_id', sa.Integer(), nullable=True),
    sa.Column('alternate_unit_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['alternate_unit_id'], ['unit.id'], ),
    sa.ForeignKeyConstraint(['parameter_id'], ['parameter.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('resource_availability',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('geoid', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('from_month', sa.Integer(), nullable=True),
    sa.Column('to_month', sa.Integer(), nullable=True),
    sa.Column('year_round', sa.Boolean(), nullable=True),
    sa.Column('residue_factor_dry_tons_acre', sa.Float(), nullable=True),
    sa.Column('residue_factor_wet_tons_acre', sa.Float(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['geoid'], ['place.geoid'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('resource_counterfactual',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('geoid', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('counterfactual_description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('animal_bedding_percent', sa.Numeric(), nullable=True),
    sa.Column('animal_bedding_source_id', sa.Integer(), nullable=True),
    sa.Column('animal_feed_percent', sa.Numeric(), nullable=True),
    sa.Column('animal_feed_source_id', sa.Integer(), nullable=True),
    sa.Column('bioelectricty_percent', sa.Numeric(), nullable=True),
    sa.Column('bioelectricty_source_id', sa.Integer(), nullable=True),
    sa.Column('burn_percent', sa.Numeric(), nullable=True),
    sa.Column('burn_source_id', sa.Integer(), nullable=True),
    sa.Column('compost_percent', sa.Numeric(), nullable=True),
    sa.Column('compost_source_id', sa.Integer(), nullable=True),
    sa.Column('landfill_percent', sa.Numeric(), nullable=True),
    sa.Column('landfill_source_id', sa.Integer(), nullable=True),
    sa.Column('counterfactual_date', sa.Date(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['geoid'], ['place.geoid'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('resource_morphology',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('morphology_uri', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('resource_usda_commodity_map',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('primary_ag_product_id', sa.Integer(), nullable=True),
    sa.Column('usda_commodity_id', sa.Integer(), nullable=True),
    sa.Column('match_tier', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['primary_ag_product_id'], ['primary_ag_product.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.ForeignKeyConstraint(['usda_commodity_id'], ['usda_commodity.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('dataset',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('record_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_id', sa.Integer(), nullable=True),
    sa.Column('start_date', sa.Date(), nullable=True),
    sa.Column('end_date', sa.Date(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['source_id'], ['data_source.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('experiment_analysis',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('analysis_type_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['analysis_type_id'], ['analysis_type.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('experiment_equipment',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('equipment_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['equipment_id'], ['equipment.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('field_sample_condition',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('field_sample_id', sa.Integer(), nullable=True),
    sa.Column('ag_treatment_id', sa.Integer(), nullable=True),
    sa.Column('last_application_date', sa.Date(), nullable=True),
    sa.Column('treatment_amount_per_acre', sa.Float(), nullable=True),
    sa.Column('processing_method_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['ag_treatment_id'], ['ag_treatment.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['field_sample_id'], ['field_sample.id'], ),
    sa.ForeignKeyConstraint(['processing_method_id'], ['processing_method.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('file_object_metadata',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('data_source_id', sa.Integer(), nullable=True),
    sa.Column('bucket_path', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('file_format', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('file_size', sa.Integer(), nullable=True),
    sa.Column('checksum_md5', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('checksum_sha256', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['data_source_id'], ['data_source.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('method',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('method_abbrev_id', sa.Integer(), nullable=True),
    sa.Column('method_category_id', sa.Integer(), nullable=True),
    sa.Column('method_standard_id', sa.Integer(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('detection_limits', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['method_abbrev_id'], ['method_abbrev.id'], ),
    sa.ForeignKeyConstraint(['method_category_id'], ['method_category.id'], ),
    sa.ForeignKeyConstraint(['method_standard_id'], ['method_standard.id'], ),
    sa.ForeignKeyConstraint(['source_id'], ['data_source.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('physical_characteristic',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('field_sample_id', sa.Integer(), nullable=True),
    sa.Column('particle_length', sa.Numeric(), nullable=True),
    sa.Column('particle_width', sa.Numeric(), nullable=True),
    sa.Column('particle_height', sa.Numeric(), nullable=True),
    sa.Column('particle_unit_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['field_sample_id'], ['field_sample.id'], ),
    sa.ForeignKeyConstraint(['particle_unit_id'], ['unit.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('prepared_sample',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('field_sample_id', sa.Integer(), nullable=True),
    sa.Column('prep_method_id', sa.Integer(), nullable=True),
    sa.Column('prep_date', sa.Date(), nullable=True),
    sa.Column('preparer_id', sa.Integer(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['field_sample_id'], ['field_sample.id'], ),
    sa.ForeignKeyConstraint(['prep_method_id'], ['preparation_method.id'], ),
    sa.ForeignKeyConstraint(['preparer_id'], ['contact.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('usda_market_report',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('slug_id', sa.Integer(), nullable=True),
    sa.Column('slug_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('report_series_title', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('frequency', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('office_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('office_city_id', sa.Integer(), nullable=True),
    sa.Column('office_state_fips', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('source_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['office_city_id'], ['location_address.id'], ),
    sa.ForeignKeyConstraint(['source_id'], ['data_source.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('autoclave_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('prepared_sample_id', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_no', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_total', sa.Integer(), nullable=True),
    sa.Column('method_id', sa.Integer(), nullable=True),
    sa.Column('analyst_id', sa.Integer(), nullable=True),
    sa.Column('raw_data_id', sa.Integer(), nullable=True),
    sa.Column('qc_pass', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['analyst_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['method_id'], ['method.id'], ),
    sa.ForeignKeyConstraint(['prepared_sample_id'], ['prepared_sample.id'], ),
    sa.ForeignKeyConstraint(['raw_data_id'], ['file_object_metadata.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    op.create_table('calorimetry_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('prepared_sample_id', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_no', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_total', sa.Integer(), nullable=True),
    sa.Column('method_id', sa.Integer(), nullable=True),
    sa.Column('analyst_id', sa.Integer(), nullable=True),
    sa.Column('raw_data_id', sa.Integer(), nullable=True),
    sa.Column('qc_pass', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['analyst_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['method_id'], ['method.id'], ),
    sa.ForeignKeyConstraint(['prepared_sample_id'], ['prepared_sample.id'], ),
    sa.ForeignKeyConstraint(['raw_data_id'], ['file_object_metadata.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    op.create_table('compositional_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('prepared_sample_id', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_no', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_total', sa.Integer(), nullable=True),
    sa.Column('method_id', sa.Integer(), nullable=True),
    sa.Column('analyst_id', sa.Integer(), nullable=True),
    sa.Column('raw_data_id', sa.Integer(), nullable=True),
    sa.Column('qc_pass', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['analyst_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['method_id'], ['method.id'], ),
    sa.ForeignKeyConstraint(['prepared_sample_id'], ['prepared_sample.id'], ),
    sa.ForeignKeyConstraint(['raw_data_id'], ['file_object_metadata.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    op.create_table('experiment_method',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('method_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['method_id'], ['method.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('experiment_prepared_sample',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('prepared_sample_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['prepared_sample_id'], ['prepared_sample.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('facility_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('facility_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('location_id', sa.Integer(), nullable=True),
    sa.Column('capacity_mw', sa.Numeric(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('operator', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('start_year', sa.Integer(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['location_id'], ['location_address.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('fermentation_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('prepared_sample_id', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_no', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_total', sa.Integer(), nullable=True),
    sa.Column('method_id', sa.Integer(), nullable=True),
    sa.Column('analyst_id', sa.Integer(), nullable=True),
    sa.Column('raw_data_id', sa.Integer(), nullable=True),
    sa.Column('qc_pass', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('strain_id', sa.Integer(), nullable=True),
    sa.Column('pretreatment_method_id', sa.Integer(), nullable=True),
    sa.Column('eh_method_id', sa.Integer(), nullable=True),
    sa.Column('well_position', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('temperature', sa.Numeric(), nullable=True),
    sa.Column('agitation_rpm', sa.Numeric(), nullable=True),
    sa.Column('vessel_id', sa.Integer(), nullable=True),
    sa.Column('analyte_detection_equipment_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['analyst_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['method_id'], ['method.id'], ),
    sa.ForeignKeyConstraint(['prepared_sample_id'], ['prepared_sample.id'], ),
    sa.ForeignKeyConstraint(['raw_data_id'], ['file_object_metadata.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    op.create_table('ftnir_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('prepared_sample_id', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_no', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_total', sa.Integer(), nullable=True),
    sa.Column('method_id', sa.Integer(), nullable=True),
    sa.Column('analyst_id', sa.Integer(), nullable=True),
    sa.Column('raw_data_id', sa.Integer(), nullable=True),
    sa.Column('qc_pass', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['analyst_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['method_id'], ['method.id'], ),
    sa.ForeignKeyConstraint(['prepared_sample_id'], ['prepared_sample.id'], ),
    sa.ForeignKeyConstraint(['raw_data_id'], ['file_object_metadata.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    op.create_table('gasification_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('prepared_sample_id', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_no', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_total', sa.Integer(), nullable=True),
    sa.Column('method_id', sa.Integer(), nullable=True),
    sa.Column('analyst_id', sa.Integer(), nullable=True),
    sa.Column('raw_data_id', sa.Integer(), nullable=True),
    sa.Column('qc_pass', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('feedstock_mass', sa.Numeric(), nullable=True),
    sa.Column('bed_temperature', sa.Numeric(), nullable=True),
    sa.Column('gas_flow_rate', sa.Numeric(), nullable=True),
    sa.ForeignKeyConstraint(['analyst_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['method_id'], ['method.id'], ),
    sa.ForeignKeyConstraint(['prepared_sample_id'], ['prepared_sample.id'], ),
    sa.ForeignKeyConstraint(['raw_data_id'], ['file_object_metadata.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    op.create_table('icp_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('prepared_sample_id', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_no', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_total', sa.Integer(), nullable=True),
    sa.Column('method_id', sa.Integer(), nullable=True),
    sa.Column('analyst_id', sa.Integer(), nullable=True),
    sa.Column('raw_data_id', sa.Integer(), nullable=True),
    sa.Column('qc_pass', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['analyst_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['method_id'], ['method.id'], ),
    sa.ForeignKeyConstraint(['prepared_sample_id'], ['prepared_sample.id'], ),
    sa.ForeignKeyConstraint(['raw_data_id'], ['file_object_metadata.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    op.create_table('observation',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('record_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('parameter_id', sa.Integer(), nullable=True),
    sa.Column('value', sa.Numeric(), nullable=True),
    sa.Column('unit_id', sa.Integer(), nullable=True),
    sa.Column('dimension_type_id', sa.Integer(), nullable=True),
    sa.Column('dimension_value', sa.Numeric(), nullable=True),
    sa.Column('dimension_unit_id', sa.Integer(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['dimension_type_id'], ['dimension_type.id'], ),
    sa.ForeignKeyConstraint(['dimension_unit_id'], ['unit.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['parameter_id'], ['parameter.id'], ),
    sa.ForeignKeyConstraint(['unit_id'], ['unit.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    op.create_table('polygon',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('geoid', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('geom', geoalchemy2.types.Geometry(spatial_index=False), nullable=True),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_index('unique_geom_dataset_md5', 'polygon', [sa.literal_column('md5(geom::text)'), 'dataset_id'], unique=True)
    op.create_table('pretreatment_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('prepared_sample_id', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_no', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_total', sa.Integer(), nullable=True),
    sa.Column('method_id', sa.Integer(), nullable=True),
    sa.Column('analyst_id', sa.Integer(), nullable=True),
    sa.Column('raw_data_id', sa.Integer(), nullable=True),
    sa.Column('qc_pass', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('pretreatment_method_id', sa.Integer(), nullable=True),
    sa.Column('eh_method_id', sa.Integer(), nullable=True),
    sa.Column('reaction_block_id', sa.Integer(), nullable=True),
    sa.Column('block_position', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('temperature', sa.Numeric(), nullable=True),
    sa.Column('replicate_no', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['analyst_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['method_id'], ['method.id'], ),
    sa.ForeignKeyConstraint(['prepared_sample_id'], ['prepared_sample.id'], ),
    sa.ForeignKeyConstraint(['raw_data_id'], ['file_object_metadata.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    op.create_table('proximate_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('prepared_sample_id', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_no', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_total', sa.Integer(), nullable=True),
    sa.Column('method_id', sa.Integer(), nullable=True),
    sa.Column('analyst_id', sa.Integer(), nullable=True),
    sa.Column('raw_data_id', sa.Integer(), nullable=True),
    sa.Column('qc_pass', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['analyst_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['method_id'], ['method.id'], ),
    sa.ForeignKeyConstraint(['prepared_sample_id'], ['prepared_sample.id'], ),
    sa.ForeignKeyConstraint(['raw_data_id'], ['file_object_metadata.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    op.create_table('rgb_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('prepared_sample_id', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_no', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_total', sa.Integer(), nullable=True),
    sa.Column('method_id', sa.Integer(), nullable=True),
    sa.Column('analyst_id', sa.Integer(), nullable=True),
    sa.Column('raw_data_id', sa.Integer(), nullable=True),
    sa.Column('qc_pass', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['analyst_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['method_id'], ['method.id'], ),
    sa.ForeignKeyConstraint(['prepared_sample_id'], ['prepared_sample.id'], ),
    sa.ForeignKeyConstraint(['raw_data_id'], ['file_object_metadata.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    op.create_table('ultimate_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('prepared_sample_id', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_no', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_total', sa.Integer(), nullable=True),
    sa.Column('method_id', sa.Integer(), nullable=True),
    sa.Column('analyst_id', sa.Integer(), nullable=True),
    sa.Column('raw_data_id', sa.Integer(), nullable=True),
    sa.Column('qc_pass', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['analyst_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['method_id'], ['method.id'], ),
    sa.ForeignKeyConstraint(['prepared_sample_id'], ['prepared_sample.id'], ),
    sa.ForeignKeyConstraint(['raw_data_id'], ['file_object_metadata.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    op.create_table('usda_census_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('geoid', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('commodity_code', sa.Integer(), nullable=True),
    sa.Column('year', sa.Integer(), nullable=True),
    sa.Column('source_reference', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['commodity_code'], ['usda_commodity.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['geoid'], ['place.geoid'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('usda_market_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('report_id', sa.Integer(), nullable=True),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('report_begin_date', sa.DateTime(), nullable=True),
    sa.Column('report_end_date', sa.DateTime(), nullable=True),
    sa.Column('report_date', sa.DateTime(), nullable=True),
    sa.Column('commodity_id', sa.Integer(), nullable=True),
    sa.Column('market_type_id', sa.Integer(), nullable=True),
    sa.Column('market_type_category', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('grp', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('market_category_id', sa.Integer(), nullable=True),
    sa.Column('class_', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('grade', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('variety', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('protein_pct', sa.Numeric(), nullable=True),
    sa.Column('application', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('pkg', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('sale_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('price_unit_id', sa.Integer(), nullable=True),
    sa.Column('freight', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('trans_mode', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['commodity_id'], ['usda_commodity.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['price_unit_id'], ['unit.id'], ),
    sa.ForeignKeyConstraint(['report_id'], ['usda_market_report.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('usda_survey_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('geoid', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('commodity_code', sa.Integer(), nullable=True),
    sa.Column('year', sa.Integer(), nullable=True),
    sa.Column('survey_program_id', sa.Integer(), nullable=True),
    sa.Column('survey_period', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('reference_month', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('seasonal_flag', sa.Boolean(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.ForeignKeyConstraint(['commodity_code'], ['usda_commodity.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['geoid'], ['place.geoid'], ),
    sa.ForeignKeyConstraint(['survey_program_id'], ['usda_survey_program.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('xrd_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('prepared_sample_id', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_no', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_total', sa.Integer(), nullable=True),
    sa.Column('method_id', sa.Integer(), nullable=True),
    sa.Column('analyst_id', sa.Integer(), nullable=True),
    sa.Column('raw_data_id', sa.Integer(), nullable=True),
    sa.Column('qc_pass', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('scan_low_nm', sa.Integer(), nullable=True),
    sa.Column('scan_high_nm', sa.Integer(), nullable=True),
    sa.ForeignKeyConstraint(['analyst_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['method_id'], ['method.id'], ),
    sa.ForeignKeyConstraint(['prepared_sample_id'], ['prepared_sample.id'], ),
    sa.ForeignKeyConstraint(['raw_data_id'], ['file_object_metadata.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    op.create_table('xrf_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('experiment_id', sa.Integer(), nullable=True),
    sa.Column('resource_id', sa.Integer(), nullable=True),
    sa.Column('prepared_sample_id', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_no', sa.Integer(), nullable=True),
    sa.Column('technical_replicate_total', sa.Integer(), nullable=True),
    sa.Column('method_id', sa.Integer(), nullable=True),
    sa.Column('analyst_id', sa.Integer(), nullable=True),
    sa.Column('raw_data_id', sa.Integer(), nullable=True),
    sa.Column('qc_pass', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('wavelength_nm', sa.Numeric(), nullable=True),
    sa.Column('intensity', sa.Numeric(), nullable=True),
    sa.Column('energy_slope', sa.Numeric(), nullable=True),
    sa.Column('energy_offset', sa.Numeric(), nullable=True),
    sa.ForeignKeyConstraint(['analyst_id'], ['contact.id'], ),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['experiment_id'], ['experiment.id'], ),
    sa.ForeignKeyConstraint(['method_id'], ['method.id'], ),
    sa.ForeignKeyConstraint(['prepared_sample_id'], ['prepared_sample.id'], ),
    sa.ForeignKeyConstraint(['raw_data_id'], ['file_object_metadata.id'], ),
    sa.ForeignKeyConstraint(['resource_id'], ['resource.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    op.create_table('landiq_record',
    sa.Column('id', sa.Integer(), nullable=False),
    sa.Column('created_at', sa.DateTime(), nullable=True),
    sa.Column('updated_at', sa.DateTime(), nullable=True),
    sa.Column('etl_run_id', sa.Integer(), nullable=True),
    sa.Column('lineage_group_id', sa.Integer(), nullable=True),
    sa.Column('record_id', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('dataset_id', sa.Integer(), nullable=True),
    sa.Column('polygon_id', sa.Integer(), nullable=True),
    sa.Column('main_crop', sa.Integer(), nullable=True),
    sa.Column('secondary_crop', sa.Integer(), nullable=True),
    sa.Column('tertiary_crop', sa.Integer(), nullable=True),
    sa.Column('quaternary_crop', sa.Integer(), nullable=True),
    sa.Column('confidence', sa.Integer(), nullable=True),
    sa.Column('irrigated', sa.Boolean(), nullable=True),
    sa.Column('acres', sa.Float(), nullable=True),
    sa.Column('county', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('version', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('note', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('pct1', sa.Float(), nullable=True),
    sa.Column('pct2', sa.Float(), nullable=True),
    sa.Column('pct3', sa.Float(), nullable=True),
    sa.Column('pct4', sa.Float(), nullable=True),
    sa.ForeignKeyConstraint(['dataset_id'], ['dataset.id'], ),
    sa.ForeignKeyConstraint(['etl_run_id'], ['etl_run.id'], ),
    sa.ForeignKeyConstraint(['main_crop'], ['primary_ag_product.id'], ),
    sa.ForeignKeyConstraint(['polygon_id'], ['polygon.id'], ),
    sa.ForeignKeyConstraint(['quaternary_crop'], ['primary_ag_product.id'], ),
    sa.ForeignKeyConstraint(['secondary_crop'], ['primary_ag_product.id'], ),
    sa.ForeignKeyConstraint(['tertiary_crop'], ['primary_ag_product.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('record_id')
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('landiq_record')
    op.drop_table('xrf_record')
    op.drop_table('xrd_record')
    op.drop_table('usda_survey_record')
    op.drop_table('usda_market_record')
    op.drop_table('usda_census_record')
    op.drop_table('ultimate_record')
    op.drop_table('rgb_record')
    op.drop_table('proximate_record')
    op.drop_table('pretreatment_record')
    op.drop_index('unique_geom_dataset_md5', table_name='polygon')
    op.drop_table('polygon')
    op.drop_table('observation')
    op.drop_table('icp_record')
    op.drop_table('gasification_record')
    op.drop_table('ftnir_record')
    op.drop_table('fermentation_record')
    op.drop_table('facility_record')
    op.drop_table('experiment_prepared_sample')
    op.drop_table('experiment_method')
    op.drop_table('compositional_record')
    op.drop_table('calorimetry_record')
    op.drop_table('autoclave_record')
    op.drop_table('usda_market_report')
    op.drop_table('prepared_sample')
    op.drop_table('physical_characteristic')
    op.drop_table('method')
    op.drop_table('file_object_metadata')
    op.drop_table('field_sample_condition')
    op.drop_table('experiment_equipment')
    op.drop_table('experiment_analysis')
    op.drop_table('dataset')
    op.drop_table('resource_usda_commodity_map')
    op.drop_table('resource_morphology')
    op.drop_table('resource_availability')
    op.drop_table('parameter_unit')
    op.drop_table('parameter_category_parameter')
    op.drop_table('location_soil_type')
    op.drop_table('landiq_resource_mapping')
    op.drop_table('field_sample')
    op.drop_table('experiment')
    op.drop_table('equipment')
    op.drop_table('data_source')
    op.drop_table('billion_ton2023_record')
    op.drop_table('usda_term_map')
    op.drop_table('resource')
    op.drop_table('provider')
    op.drop_table('preparation_method')
    op.drop_table('parameter')
    op.drop_table('location_address')
    op.drop_table('lineage_group')
    op.drop_table('data_source_type')
    op.drop_table('contact')
    op.drop_table('usda_survey_program')
    op.drop_table('usda_statistic_category')
    op.drop_table('usda_domain')
    op.drop_table('usda_commodity')
    op.drop_table('unit')
    op.drop_table('strain')
    op.drop_table('source_type')
    op.drop_table('soil_type')
    op.drop_table('resource_subclass')
    op.drop_table('resource_class')
    op.drop_table('processing_method')
    op.drop_table('primary_ag_product')
    op.drop_table('preparation_method_abbreviation')
    op.drop_table('place')
    op.drop_table('parameter_category')
    op.drop_table('method_standard')
    op.drop_table('method_category')
    op.drop_table('method_abbrev')
    op.drop_table('location_resolution')
    op.drop_table('infrastructure_wastewater_treatment_plants')
    op.drop_table('infrastructure_saf_and_renewable_diesel_plants')
    op.drop_table('infrastructure_msw_to_energy_anaerobic_digesters')
    op.drop_table('infrastructure_livestock_anaerobic_digesters')
    op.drop_table('infrastructure_landfills')
    op.drop_table('infrastructure_food_processing_facilities')
    op.drop_table('infrastructure_ethanol_biorefineries')
    op.drop_table('infrastructure_district_energy_systems')
    op.drop_table('infrastructure_combustion_plants')
    op.drop_table('infrastructure_cafo_manure_locations')
    op.drop_table('infrastructure_biosolids_facilities')
    op.drop_table('infrastructure_biodiesel_plants')
    op.drop_table('harvest_method')
    op.drop_table('field_storage_method')
    op.drop_table('etl_run')
    op.drop_table('entity_lineage')
    op.drop_table('dimension_type')
    op.drop_table('collection_method')
    op.drop_table('analysis_type')
    op.drop_table('ag_treatment')
    # ### end Alembic commands ###

    # Drop ca_biositing schema (created for materialized views in Phase 4)
    op.execute("DROP SCHEMA IF EXISTS ca_biositing CASCADE")
