"""test_local_fix_v4

Revision ID: cbcce5e3d908
Revises: 76181497b8c2
Create Date: 2026-01-17 23:12:02.680326

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision: str = 'cbcce5e3d908'
down_revision: Union[str, Sequence[str], None] = '76181497b8c2'
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('aim1_record_base', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'aim1_record_base', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.drop_column('aim1_record_base', 'sample_id')
    op.add_column('aim2_record_base', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.add_column('aim2_record_base', sa.Column('method_id', sa.Integer(), nullable=True))
    op.add_column('aim2_record_base', sa.Column('analyst_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'aim2_record_base', 'method', ['method_id'], ['id'])
    op.create_foreign_key(None, 'aim2_record_base', 'contact', ['analyst_id'], ['id'])
    op.create_foreign_key(None, 'aim2_record_base', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.drop_column('aim2_record_base', 'sample_id')
    op.drop_column('aim2_record_base', 'calc_analyst_id')
    op.drop_column('aim2_record_base', 'calc_method_id')
    op.add_column('autoclave_record', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.add_column('autoclave_record', sa.Column('method_id', sa.Integer(), nullable=True))
    op.add_column('autoclave_record', sa.Column('analyst_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'autoclave_record', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.create_foreign_key(None, 'autoclave_record', 'contact', ['analyst_id'], ['id'])
    op.create_foreign_key(None, 'autoclave_record', 'method', ['method_id'], ['id'])
    op.drop_column('autoclave_record', 'sample_id')
    op.drop_column('autoclave_record', 'calc_analyst_id')
    op.drop_column('autoclave_record', 'calc_method_id')
    op.add_column('calorimetry_record', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'calorimetry_record', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.drop_column('calorimetry_record', 'sample_id')
    op.add_column('compositional_record', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'compositional_record', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.drop_column('compositional_record', 'sample_id')
    op.add_column('fermentation_record', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.add_column('fermentation_record', sa.Column('method_id', sa.Integer(), nullable=True))
    op.add_column('fermentation_record', sa.Column('analyst_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'fermentation_record', 'method', ['method_id'], ['id'])
    op.create_foreign_key(None, 'fermentation_record', 'contact', ['analyst_id'], ['id'])
    op.create_foreign_key(None, 'fermentation_record', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.drop_column('fermentation_record', 'sample_id')
    op.drop_column('fermentation_record', 'calc_analyst_id')
    op.drop_column('fermentation_record', 'calc_method_id')
    op.add_column('ftnir_record', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'ftnir_record', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.drop_column('ftnir_record', 'sample_id')
    op.add_column('gasification_record', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.add_column('gasification_record', sa.Column('method_id', sa.Integer(), nullable=True))
    op.add_column('gasification_record', sa.Column('analyst_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'gasification_record', 'contact', ['analyst_id'], ['id'])
    op.create_foreign_key(None, 'gasification_record', 'method', ['method_id'], ['id'])
    op.create_foreign_key(None, 'gasification_record', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.drop_column('gasification_record', 'sample_id')
    op.drop_column('gasification_record', 'calc_analyst_id')
    op.drop_column('gasification_record', 'calc_method_id')
    op.add_column('icp_record', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'icp_record', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.drop_column('icp_record', 'sample_id')
    op.add_column('pretreatment_record', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.add_column('pretreatment_record', sa.Column('method_id', sa.Integer(), nullable=True))
    op.add_column('pretreatment_record', sa.Column('analyst_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'pretreatment_record', 'contact', ['analyst_id'], ['id'])
    op.create_foreign_key(None, 'pretreatment_record', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.create_foreign_key(None, 'pretreatment_record', 'method', ['method_id'], ['id'])
    op.drop_column('pretreatment_record', 'sample_id')
    op.drop_column('pretreatment_record', 'calc_analyst_id')
    op.drop_column('pretreatment_record', 'calc_method_id')
    op.add_column('proximate_record', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'proximate_record', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.drop_column('proximate_record', 'sample_id')
    op.add_column('rgb_record', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'rgb_record', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.drop_column('rgb_record', 'sample_id')
    op.add_column('ultimate_record', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'ultimate_record', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.drop_column('ultimate_record', 'sample_id')
    op.add_column('xrd_record', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'xrd_record', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.drop_column('xrd_record', 'sample_id')
    op.add_column('xrf_record', sa.Column('prepared_sample_id', sa.Integer(), nullable=True))
    op.create_foreign_key(None, 'xrf_record', 'prepared_sample', ['prepared_sample_id'], ['id'])
    op.drop_column('xrf_record', 'sample_id')
    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('xrf_record', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'xrf_record', type_='foreignkey')
    op.drop_column('xrf_record', 'prepared_sample_id')
    op.add_column('xrd_record', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'xrd_record', type_='foreignkey')
    op.drop_column('xrd_record', 'prepared_sample_id')
    op.add_column('ultimate_record', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'ultimate_record', type_='foreignkey')
    op.drop_column('ultimate_record', 'prepared_sample_id')
    op.add_column('rgb_record', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'rgb_record', type_='foreignkey')
    op.drop_column('rgb_record', 'prepared_sample_id')
    op.add_column('proximate_record', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'proximate_record', type_='foreignkey')
    op.drop_column('proximate_record', 'prepared_sample_id')
    op.add_column('pretreatment_record', sa.Column('calc_method_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('pretreatment_record', sa.Column('calc_analyst_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('pretreatment_record', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'pretreatment_record', type_='foreignkey')
    op.drop_constraint(None, 'pretreatment_record', type_='foreignkey')
    op.drop_constraint(None, 'pretreatment_record', type_='foreignkey')
    op.drop_column('pretreatment_record', 'analyst_id')
    op.drop_column('pretreatment_record', 'method_id')
    op.drop_column('pretreatment_record', 'prepared_sample_id')
    op.add_column('icp_record', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'icp_record', type_='foreignkey')
    op.drop_column('icp_record', 'prepared_sample_id')
    op.add_column('gasification_record', sa.Column('calc_method_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('gasification_record', sa.Column('calc_analyst_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('gasification_record', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'gasification_record', type_='foreignkey')
    op.drop_constraint(None, 'gasification_record', type_='foreignkey')
    op.drop_constraint(None, 'gasification_record', type_='foreignkey')
    op.drop_column('gasification_record', 'analyst_id')
    op.drop_column('gasification_record', 'method_id')
    op.drop_column('gasification_record', 'prepared_sample_id')
    op.add_column('ftnir_record', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'ftnir_record', type_='foreignkey')
    op.drop_column('ftnir_record', 'prepared_sample_id')
    op.add_column('fermentation_record', sa.Column('calc_method_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('fermentation_record', sa.Column('calc_analyst_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('fermentation_record', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'fermentation_record', type_='foreignkey')
    op.drop_constraint(None, 'fermentation_record', type_='foreignkey')
    op.drop_constraint(None, 'fermentation_record', type_='foreignkey')
    op.drop_column('fermentation_record', 'analyst_id')
    op.drop_column('fermentation_record', 'method_id')
    op.drop_column('fermentation_record', 'prepared_sample_id')
    op.add_column('compositional_record', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'compositional_record', type_='foreignkey')
    op.drop_column('compositional_record', 'prepared_sample_id')
    op.add_column('calorimetry_record', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'calorimetry_record', type_='foreignkey')
    op.drop_column('calorimetry_record', 'prepared_sample_id')
    op.add_column('autoclave_record', sa.Column('calc_method_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('autoclave_record', sa.Column('calc_analyst_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('autoclave_record', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'autoclave_record', type_='foreignkey')
    op.drop_constraint(None, 'autoclave_record', type_='foreignkey')
    op.drop_constraint(None, 'autoclave_record', type_='foreignkey')
    op.drop_column('autoclave_record', 'analyst_id')
    op.drop_column('autoclave_record', 'method_id')
    op.drop_column('autoclave_record', 'prepared_sample_id')
    op.add_column('aim2_record_base', sa.Column('calc_method_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('aim2_record_base', sa.Column('calc_analyst_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.add_column('aim2_record_base', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'aim2_record_base', type_='foreignkey')
    op.drop_constraint(None, 'aim2_record_base', type_='foreignkey')
    op.drop_constraint(None, 'aim2_record_base', type_='foreignkey')
    op.drop_column('aim2_record_base', 'analyst_id')
    op.drop_column('aim2_record_base', 'method_id')
    op.drop_column('aim2_record_base', 'prepared_sample_id')
    op.add_column('aim1_record_base', sa.Column('sample_id', sa.INTEGER(), autoincrement=False, nullable=True))
    op.drop_constraint(None, 'aim1_record_base', type_='foreignkey')
    op.drop_column('aim1_record_base', 'prepared_sample_id')
    # ### end Alembic commands ###
